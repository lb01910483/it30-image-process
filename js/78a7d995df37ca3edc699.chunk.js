(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1040:function(t,n){},1042:function(t,n){},1075:function(t,n){},1076:function(t,n){},1118:function(t,n,a){"use strict";var i=a(599);a.n(i).a},1119:function(t,n,a){(t.exports=a(89)(!1)).push([t.i,".hand_track video[data-v-5aba6f56] {\n  display: none;\n}\n.hand_track .loading[data-v-5aba6f56] {\n  position: absolute;\n  top: 20px;\n  left: 60px;\n}\n.hand_track .canvas[data-v-5aba6f56] {\n  width: 450px;\n  height: 380px;\n  display: inline-block;\n}\n.hand_track .scratch[data-v-5aba6f56] {\n  position: relative;\n  width: 450px;\n  height: 380px;\n  display: inline-block;\n}\n.hand_track .scratch canvas[data-v-5aba6f56] {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 600px;\n    height: 600px;\n}\n",""])},1127:function(t,n,a){"use strict";a.r(n);var i=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"hand_track"},[[a("video",{ref:"video",attrs:{autoplay:""}}),t._v(" "),a("canvas",{ref:"videoCanvas",staticClass:"canvas"}),t._v(" "),a("div",{staticClass:"scratch"},[a("canvas",{ref:"bgCanvas",staticClass:"canvas"}),t._v(" "),a("canvas",{ref:"fgCanvas",staticClass:"canvas",on:{mousemove:t.handleMousemove}})])],t._v(" "),t.isLoading?[a("div",{staticClass:"loading"},[t._v("\n      Loading Model ......\n    ")])]:t._e()],2)};i._withStripped=!0;var e,s=a(92),o=a.n(s),c=a(143),r=a.n(c),v=a(1035),d=a.n(v),l=a(1122),h={name:"HandTrack",data:function(){return{x:0,y:0,isLoading:!1}},methods:{loadVideo:function(){var t=this.$refs.video;if(navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia({video:!0}).then((function(n){return t.srcObject=n,t})).catch((function(t){console.log("err",t)}))},runDetection:function(){var t=this,n=this.model,a=this.video,i=this.videoCanvas,e=i.getContext("2d");n.detect(a).then((function(s){if(n.renderPredictions(s,i,e,a),s.length){var o=d()(s[0].bbox,4),c=o[0],r=o[1],v=o[2],l=o[3];t.dispatchEvent(c+v/2,r+l/2)}requestAnimationFrame(t.runDetection)}))},circle:function(t,n){var a=this.fgCanvas.getContext("2d");a.beginPath(),a.arc(t,n,1,0,2*Math.PI,!0),a.fill()},dispatchEvent:function(t,n){var a=new Event("mousemove");a.offsetX=t,a.offsetY=n,this.$refs.fgCanvas.dispatchEvent(a)},initialFgCanvas:function(){var t=this.$refs.fgCanvas,n=t.getContext("2d");this.setCanvasScale(t,n),n.fillStyle="silver",n.fillRect(0,0,450,380),n.globalCompositeOperation="destination-out"},initialBgCanvas:function(){var t=this.$refs.bgCanvas,n=t.getContext("2d");this.setCanvasScale(t,n),n.font="30px Microsoft JhengHei, PMingLiU, sans-serif",n.fillText("恭喜獲得信義區豪宅",100,180)},setCanvasScale:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:450,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:380,e=a||t.width||t.clientWidth,s=i||t.height||t.clientHeight,o=window.devicePixelRatio||1,c=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,r=o/c;o!==c&&(t.width=Math.round(e*r),t.height=Math.round(s*r),t.style.width=e+"px",t.style.height=s+"px",n.scale(r,r))},handleMousemove:function(t){var n=this.$refs.fgCanvas.getContext("2d"),a=t.offsetX,i=t.offsetY;n.beginPath(),n.arc(a,i,20,0,2*Math.PI),n.fill()}},mounted:(e=r()(o.a.mark((function t(){var n=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.videoCanvas=this.$refs.videoCanvas,this.fgCanvas=this.$refs.fgCanvas,this.isLoading=!0,t.next=5,l.a({flipHorizontal:!0,maxNumBoxes:1,iouThreshold:.5,scoreThreshold:.6});case 5:this.model=t.sent,this.isLoading=!1,this.initialFgCanvas(),this.initialBgCanvas(),this.video=this.$refs.video,l.b(this.video).then((function(t){console.log("video started"),t?n.runDetection():console.log("err")}));case 11:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},f=(a(1118),a(64)),u=Object(f.a)(h,i,[],!1,null,"5aba6f56",null);u.options.__file="src/views/HandTrack/index.vue";n.default=u.exports},599:function(t,n,a){var i=a(1119);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(90).default)("2b26bb9f",i,!1,{})}}]);