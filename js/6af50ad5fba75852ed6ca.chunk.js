(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1013:function(t,e,n){"use strict";var a=n(572);n.n(a).a},1014:function(t,e,n){(t.exports=n(89)(!1)).push([t.i,".image_info[data-v-11a04828] {\n  width: 100%;\n}\n.image_info .container[data-v-11a04828] {\n    display: flex;\n}\n.image_info .rgbaInfo[data-v-11a04828] {\n    width: 100px;\n    border-right: 1px #e3e3e3 solid;\n}\n.image_info .rgbaInfo > div[data-v-11a04828] {\n      margin: 5px 0px;\n}\n.image_info .imgInfo[data-v-11a04828] {\n    margin: 0px 10px;\n}\n.image_info .imgInfo > div[data-v-11a04828] {\n      margin: 10px 0px;\n}\n",""])},1015:function(t,e,n){"use strict";var a=n(577);n.n(a).a},1016:function(t,e,n){(t.exports=n(89)(!1)).push([t.i,".draw_canvas .upload_btn[data-v-77714d6f] {\n  font-size: 14px;\n  line-height: 35px;\n  border-radius: 5px;\n  color: #fff;\n  background-color: #409eff;\n  text-align: center;\n  cursor: pointer;\n  letter-spacing: 2px;\n  width: 100%;\n  max-width: 150px;\n  position: relative;\n}\n.draw_canvas .upload_btn > input[type='file'][data-v-77714d6f] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    font-size: 0px;\n    cursor: pointer;\n}\n.draw_canvas .center[data-v-77714d6f] {\n  display: flex;\n  justify-content: center;\n}\n.draw_canvas .image_container[data-v-77714d6f] {\n  margin: 20px 0px 0px;\n  display: flex;\n}\n.draw_canvas .image_container .image_editor[data-v-77714d6f] {\n    margin: 0px 0px 0px 20px;\n}\n.draw_canvas .margin_l_20[data-v-77714d6f] {\n  margin-left: 20px;\n}\n",""])},1120:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this.$createElement;return(this._self._c||t)("DrawCanvas")};a._withStripped=!0;var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"draw_canvas"},[n("div",{staticClass:"center"},[n("div",{staticClass:"upload_btn"},[t._v("\n      上傳\n      "),n("input",{attrs:{type:"file",accept:"image/jpg,image/jpeg,image/png"},on:{change:t.getData}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.imgWidth,expression:"imgWidth"}],staticClass:"upload_btn margin_l_20",on:{click:t.saveImg}},[t._v("\n      下載\n    ")])]),t._v(" "),n("div",{staticClass:"image_container"},[n("div",{staticClass:"canvas_container"},[n("canvas",{ref:"drawCanvas",on:{mousemove:t.handleMouseMove}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.imgWidth,expression:"imgWidth"}],staticClass:"image_editor"},[n("ImageInfo",{attrs:{rgbaInfo:t.rgbaInfo,width:t.imgWidth,height:t.imgHeight}}),t._v(" "),n("ImageSlider")],1)])])};i._withStripped=!0;var r=n(92),s=n.n(r),o=n(143),c=n.n(o),l=n(495),d=n.n(l),u=n(142),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image_info"},[n("el-card",[n("div",{staticClass:"container"},[n("div",{staticClass:"rgbaInfo"},[n("div",[t._v("R: "+t._s(t.rgbaInfo[0]))]),t._v(" "),n("div",[t._v("G: "+t._s(t.rgbaInfo[1]))]),t._v(" "),n("div",[t._v("B: "+t._s(t.rgbaInfo[2]))])]),t._v(" "),n("div",{staticClass:"imgInfo"},[n("div",[t._v("寬度: "+t._s(t.width))]),t._v(" "),n("div",[t._v("高度: "+t._s(t.height))])])]),t._v(" "),n("div",{ref:"echart",staticStyle:{width:"200px",height:"80px"}})])],1)};g._withStripped=!0;var f=n(192),h=n(716),p={name:"ImageInfo",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},rgbaInfo:{type:Array,required:!0}},methods:{calcuateHistogram:function(t){var e=f.calculateBrightness(t.data);this.echart.setOption({xAxis:{min:-5,max:260,splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}},yAxis:{show:!1,max:function(t){return t.max}},grid:{left:0,top:0,right:0,bottom:10},series:[{type:"bar",data:e,large:!0}]},!0,!0)}},mounted:function(){this.echart=h.init(this.$refs.echart,{}),this.$root.$on("imgChange",this.calcuateHistogram)}},v=(n(1013),n(64)),m=Object(v.a)(p,g,[],!1,null,"11a04828",null);m.options.__file="src/components/ImageInfo/index.vue";var _=m.exports,b=n(600),w=n(91);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var y,C={name:"DrawCanvas",components:{ImageInfo:_,ImageSlider:b.a},data:function(){return{rgbaInfo:[],imgWidth:0,imgHeight:0,originalData:{}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(n,!0).forEach((function(e){d()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(w.b)(["editImageData"]),{},Object(w.c)({sliderValue:function(t){return t.sliderValue}})),methods:{drawImage:function(t){var e=this.$refs.drawCanvas,n=e.getContext("2d"),a=window.innerWidth-800,i=(a=a<800?800:a)*(9/16);e.width=a,e.height=i,n.drawImage(t,0,0,a,i);var r=n.getImageData(0,0,a,i);this.$store.commit("CHANGE_STATE_VALUE",{key:"originalEditData",val:r})},getData:(y=c()(s.a.mark((function t(e){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.files[0],t.next=3,Object(u.c)(n);case 3:a=t.sent,this.drawImage(a.img),this.imgWidth=a.width,this.imgHeight=a.height,this.originalData=a;case 8:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)}),getImageInfo:function(t,e){return this.$refs.drawCanvas.getContext("2d").getImageData(t,e,1,1).data},handleMouseMove:function(t){var e=t.offsetX,n=t.offsetY;this.rgbaInfo=Array.from(this.getImageInfo(e,n))},updateImage:function(t){this.$refs.drawCanvas.getContext("2d").putImageData(t,0,0)},saveImg:function(){var t=this.originalData,e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t.img,0,0);var a=n.getImageData(0,0,t.width,t.height),i=Object(u.a)(a,this.sliderValue);n.putImageData(i,0,0),e.toBlob((function(t){console.log(t);var e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="yourname.jpeg",n.click(),URL.revokeObjectURL(e)}),"image/jpeg",1)}},watch:{editImageData:function(t){this.updateImage(t),this.$root.$emit("imgChange",t)}},mounted:function(){}},I=(n(1015),Object(v.a)(C,i,[],!1,null,"77714d6f",null));I.options.__file="src/components/DrawCanvas/index.vue";var O={name:"App",components:{DrawCanvas:I.exports}},j=Object(v.a)(O,a,[],!1,null,null,null);j.options.__file="src/views/Index.vue";e.default=j.exports},482:function(t,e,n){var a=n(574);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(90).default)("06bf501e",a,!1,{})},483:function(t,e,n){var a=n(576);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(90).default)("4f9b0c8c",a,!1,{})},572:function(t,e,n){var a=n(1014);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(90).default)("5db127b1",a,!1,{})},573:function(t,e,n){"use strict";var a=n(482);n.n(a).a},574:function(t,e,n){(t.exports=n(89)(!1)).push([t.i,"",""])},575:function(t,e,n){"use strict";var a=n(483);n.n(a).a},576:function(t,e,n){(t.exports=n(89)(!1)).push([t.i,".image_slider[data-v-1bb0a0c2] {\n  margin: 20px 0px 0px;\n}\n",""])},577:function(t,e,n){var a=n(1016);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(90).default)("5686fec3",a,!1,{})},600:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image_slider"},[n("Slider",{attrs:{title:"曝光度",min:-100,max:100,value:t.brightness},on:{sliderChange:function(e){return t.sliderChange(e,"brightness")}}}),t._v(" "),n("Slider",{attrs:{title:"對比度",min:-100,max:100,value:t.contrast},on:{sliderChange:function(e){return t.sliderChange(e,"contrast")}}}),t._v(" "),n("Slider",{attrs:{title:"飽和度",min:-100,max:100,value:t.saturation},on:{sliderChange:function(e){return t.sliderChange(e,"saturation")}}}),t._v(" "),n("Slider",{attrs:{title:"細節飽和度",min:-100,max:100,value:t.vibrance},on:{sliderChange:function(e){return t.sliderChange(e,"vibrance")}}}),t._v(" "),n("Slider",{attrs:{title:"暗部",min:-100,max:100,value:t.shadow},on:{sliderChange:function(e){return t.sliderChange(e,"shadow")}}}),t._v(" "),n("Slider",{attrs:{title:"亮部",min:-100,max:100,value:t.hightLight},on:{sliderChange:function(e){return t.sliderChange(e,"hightLight")}}}),t._v(" "),n("Slider",{attrs:{title:"銳利化",min:-100,max:100,value:t.sharpen},on:{sliderChange:function(e){return t.sliderChange(e,"sharpen")}}})],1)};a._withStripped=!0;var i=n(495),r=n.n(i),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slider"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("el-slider",{attrs:{value:t.value,min:t.min,max:t.max},on:{input:t.handleChange}})],1)};s._withStripped=!0;var o={name:"Slider",props:{title:{type:String,default:""},max:{type:Number,default:100},min:{type:Number,default:0},value:{type:Number,default:0}},methods:{handleChange:function(t){this.$emit("sliderChange",t)}}},c=(n(573),n(64)),l=Object(c.a)(o,s,[],!1,null,"64355c54",null);l.options.__file="src/components/Slider/index.vue";var d=l.exports,u=n(91);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var f={name:"ImageSlider",components:{Slider:d},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(u.c)({brightness:function(t){return t.sliderValue.brightness},contrast:function(t){return t.sliderValue.contrast},saturation:function(t){return t.sliderValue.saturation},vibrance:function(t){return t.sliderValue.vibrance},shadow:function(t){return t.sliderValue.shadow},hightLight:function(t){return t.sliderValue.hightLight},sharpen:function(t){return t.sliderValue.sharpen}})),methods:{sliderChange:function(t,e){this.$store.commit("CHANGE_SLIDER_VALUE",{key:e,val:t})}}},h=(n(575),Object(c.a)(f,a,[],!1,null,"1bb0a0c2",null));h.options.__file="src/components/ImageSlider/index.vue";e.a=h.exports}}]);